{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Users\\\\SAMSUNG\\\\ONEDRIVE\\\\MEUS_PROJETOS_TI\\\\app_tarefas\\\\src\\\\pages\\\\Clientes\\\\index.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { ScrollView, TouchableOpacity, FlatList, TextInput } from 'react-native-gesture-handler';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Ionicons } from '@expo/vector-icons';\nimport ListItem from \"../../componentes/List/clientes\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport Axios from 'axios';\nexport default function Clientes(_ref) {\n  var navigation = _ref.navigation;\n  var api = 'http://192.168.15.8/apitarefas/';\n\n  var _useState = useState('1'),\n      _useState2 = _slicedToArray(_useState, 2),\n      valor = _useState2[0],\n      setValor = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lista = _useState4[0],\n      setLista = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      buscar = _useState6[0],\n      setBuscar = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dados = _useState8[0],\n      setDados = _useState8[1];\n\n  var getData = function getData() {\n    var value;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@storage_Key'));\n\n          case 3:\n            value = _context.sent;\n\n            if (value !== null) {\n              setDados(JSON.parse(value));\n            }\n\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  useEffect(function () {\n    getData();\n    listarDados();\n  }, []);\n\n  function listarDados() {\n    var res;\n    return _regeneratorRuntime.async(function listarDados$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(dados.cpf != undefined)) {\n              _context2.next = 6;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'listarClientes.php?busca=' + buscar + '&cpf=' + dados.cpf));\n\n          case 3:\n            res = _context2.sent;\n\n            if (res.data.result != '0') {\n              setLista(res.data.result);\n            } else {\n              alert('Não encontramos registros!');\n            }\n\n            setValor('2');\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  setTimeout(function () {\n    if (valor === '1') {\n      listarDados();\n    }\n  }, 50);\n\n  function buscarDados() {\n    buscarNome();\n  }\n\n  function buscarNome() {\n    var res;\n    return _regeneratorRuntime.async(function buscarNome$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'listarClientes.php?busca=' + buscar + '&cpf=' + dados.cpf));\n\n          case 2:\n            res = _context3.sent;\n            setLista(res.data.result);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function mensagemDelete(id) {\n    Alert.alert(\"Excluir Registro\", \"Deseja Excluir este Registro?\", [{\n      text: \"Não\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Sim\",\n      onPress: function onPress() {\n        return deletar(id);\n      }\n    }], {\n      cancelable: true\n    });\n  }\n\n  function deletar(id) {\n    var res;\n    return _regeneratorRuntime.async(function deletar$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'excluirClientes.php?id=' + id));\n\n          case 2:\n            res = _context4.sent;\n            listarDados();\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Home');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 10\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../../assets/img/logo.png\"),\n    style: {\n      width: 30,\n      height: 30\n    },\n    resizeMode: \"contain\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 10\n    }\n  })), React.createElement(Text, {\n    style: {\n      color: '#FFF',\n      fontSize: 17\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, \"Lista de Clientes\"), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('addClientes');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    name: \"ios-add\",\n    size: 35,\n    color: \"#FFF\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }))), React.createElement(View, {\n    style: styles.viewSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Fa\\xE7a sua Busca\",\n    value: buscar,\n    onChangeText: function onChangeText(buscar) {\n      return setBuscar(buscar);\n    },\n    onChange: buscarDados(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, React.createElement(Icon, {\n    name: \"search\",\n    color: \"#000\",\n    size: 25,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: lista,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(ListItem, {\n        data: item,\n        deletar: function deletar() {\n          return mensagemDelete(item.id);\n        },\n        editar: function editar() {\n          return concluir(item.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }\n      });\n    },\n    ItemSeparatorComponent: function ItemSeparatorComponent() {\n      return React.createElement(Separator, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 41\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  header: {\n    backgroundColor: '#000',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 10,\n    marginTop: 35\n  },\n  viewSearch: {\n    marginTop: 10,\n    backgroundColor: '#FFF',\n    elevation: 8,\n    borderRadius: 5,\n    marginVertical: 10,\n    width: '95%',\n    flexDirection: 'row',\n    alignSelf: 'center'\n  },\n  input: {\n    width: '90%',\n    padding: 13,\n    paddingLeft: 20,\n    fontSize: 17\n  },\n  icon: {\n    right: 0,\n    top: 15\n  }\n});\n\nvar Separator = function Separator() {\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      height: 1,\n      backgroundColor: '#DDD'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 29\n    }\n  });\n};","map":{"version":3,"sources":["D:/Users/SAMSUNG/ONEDRIVE/MEUS_PROJETOS_TI/app_tarefas/src/pages/Clientes/index.js"],"names":["StatusBar","React","useState","useEffect","NavigationContainer","createStackNavigator","ScrollView","TouchableOpacity","FlatList","TextInput","AsyncStorage","Ionicons","ListItem","DateTimePicker","Icon","FontAwesome","Axios","Clientes","navigation","api","valor","setValor","lista","setLista","buscar","setBuscar","dados","setDados","getData","getItem","value","JSON","parse","listarDados","cpf","undefined","get","res","data","result","alert","setTimeout","buscarDados","buscarNome","mensagemDelete","id","Alert","text","onPress","console","log","style","deletar","cancelable","styles","header","navigate","require","width","height","color","fontSize","viewSearch","input","icon","item","concluir","StyleSheet","create","backgroundColor","flexDirection","alignItems","justifyContent","padding","marginTop","elevation","borderRadius","marginVertical","alignSelf","paddingLeft","right","top","Separator","flex"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, {useState, useEffect} from 'react';\r\nimport { Modal, StyleSheet, Button, Text, View, SafeAreaView, Image, Animated, Alert } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { ScrollView, TouchableOpacity, FlatList, TextInput } from 'react-native-gesture-handler';\r\nimport AsyncStorage from '@react-native-community/async-storage';\r\nimport {Ionicons} from '@expo/vector-icons';\r\nimport ListItem from '../../componentes/List/clientes';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport Icon from 'react-native-vector-icons/MaterialIcons';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport Axios from 'axios';\r\n\r\n\r\nexport default function Clientes({navigation}) {\r\n\r\n   \r\n  const api = 'http://192.168.15.8/apitarefas/';\r\n\r\n  \r\n  const [valor, setValor] = useState('1');\r\n  const [lista, setLista] = useState([]);\r\n  const [buscar, setBuscar] = useState('');\r\n\r\n    const [dados, setDados] = useState([]);\r\n    \r\n\r\n    const getData = async () => {\r\n       \r\n        try {\r\n          const value = await AsyncStorage.getItem('@storage_Key')\r\n          if(value !== null) {\r\n            setDados(JSON.parse(value));\r\n            \r\n          }\r\n        } catch(e) {\r\n          // error reading value\r\n        }\r\n      }\r\n\r\n\r\n      useEffect(()=> {\r\n          \r\n        getData();\r\n        listarDados();\r\n        \r\n      },[])\r\n\r\n      \r\n     \r\n\r\n      async function listarDados(){\r\n       \r\n        if(dados.cpf != undefined){\r\n            const res = await Axios.get(api + 'listarClientes.php?busca=' + buscar + '&cpf=' + dados.cpf);\r\n            if(res.data.result != '0'){\r\n                setLista(res.data.result);\r\n            }else{\r\n                alert('Não encontramos registros!')\r\n            }\r\n            setValor('2');\r\n        }\r\n        \r\n        \r\n       \r\n        //console.log(res.data.result);\r\n       \r\n      }\r\n      \r\n      setTimeout(function() {\r\n        \r\n        if(valor === '1'){\r\n         listarDados();\r\n        }\r\n      }, 50);\r\n\r\n\r\n      function buscarDados(){\r\n        buscarNome();\r\n      }\r\n\r\n      async function buscarNome(){\r\n        \r\n        const res = await Axios.get(api + 'listarClientes.php?busca=' + buscar + '&cpf=' + dados.cpf);\r\n       \r\n        setLista(res.data.result);\r\n      \r\n        \r\n        \r\n      }\r\n\r\n\r\n\r\n      function mensagemDelete(id){\r\n    \r\n        Alert.alert(\r\n          \"Excluir Registro\",\r\n          \"Deseja Excluir este Registro?\",\r\n          [\r\n            {\r\n              text: \"Não\",\r\n              onPress: () => console.log(\"Cancel Pressed\"),\r\n              style: \"cancel\"\r\n            },\r\n            { text: \"Sim\", onPress: () => deletar(id) }\r\n          ],\r\n          { cancelable: true }\r\n        );\r\n    \r\n        \r\n    \r\n      }\r\n    \r\n            \r\n\r\n     async function deletar(id){\r\n         \r\n        const res = await Axios.get(api + 'excluirClientes.php?id=' + id);\r\n        listarDados();\r\n      }\r\n\r\n      \r\n   \r\n\r\n      return (\r\n        <SafeAreaView>\r\n        <View \r\n        style={styles.header}>\r\n         <TouchableOpacity\r\n        onPress={ () => navigation.navigate('Home')}\r\n        >\r\n         <Image \r\n         source={require('../../../assets/img/logo.png')}\r\n         style={{width:30, height:30}}\r\n         resizeMode = \"contain\"\r\n         />\r\n         </TouchableOpacity>\r\n        <Text style={{color:'#FFF', fontSize:17}}>Lista de Clientes</Text>\r\n        <TouchableOpacity\r\n        onPress={ () => navigation.navigate('addClientes')}\r\n        >\r\n            <Ionicons name=\"ios-add\" size={35} color=\"#FFF\"></Ionicons>\r\n     \r\n         </TouchableOpacity>\r\n        </View>\r\n    \r\n        \r\n\r\n        <View style={styles.viewSearch}>\r\n              <TextInput\r\n                style={styles.input}\r\n                placeholder=\"Faça sua Busca\"\r\n                value={buscar}\r\n                onChangeText={ (buscar) => setBuscar(buscar)}\r\n                onChange={buscarDados()}\r\n              />\r\n              <TouchableOpacity style={styles.icon}>\r\n                <Icon name=\"search\" color=\"#000\" size={25} />\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n\r\n        <View>\r\n        <FlatList\r\n            data={lista}\r\n            keyExtractor={item => item.id}\r\n            renderItem={({item}) => (\r\n            <ListItem\r\n                data={item}\r\n                deletar = {()=> mensagemDelete(item.id)}\r\n                editar = {()=> concluir(item.id)}\r\n            />\r\n            )}\r\n            ItemSeparatorComponent={()=><Separator/>}\r\n            \r\n        >\r\n\r\n        </FlatList>\r\n    </View>\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    \r\n        </SafeAreaView>\r\n\r\n\r\n\r\n      );\r\n    }\r\n    \r\n    const styles = StyleSheet.create({\r\n      header:{\r\n          backgroundColor:'#000',\r\n          flexDirection:'row',\r\n          alignItems:'center',\r\n          justifyContent:'space-between',\r\n          padding:10,\r\n          \r\n          marginTop:35\r\n      },\r\n\r\n      viewSearch:{\r\n        marginTop: 10,\r\n        backgroundColor: '#FFF',\r\n        elevation: 8,\r\n        borderRadius: 5,\r\n        marginVertical: 10,\r\n        width: '95%',\r\n        flexDirection: 'row',\r\n        alignSelf: 'center'\r\n      },\r\n      input:{\r\n        width: '90%',\r\n        padding: 13,\r\n        paddingLeft: 20,\r\n        fontSize: 17,\r\n      },\r\n      icon:{\r\n        \r\n        right: 0,\r\n        top: 15,\r\n      },\r\n\r\n\r\n    \r\n     \r\n    });\r\n\r\n    const Separator = () => <View style={{flex:1, height:1, backgroundColor:'#DDD'}}></View>\r\n\r\n    "]},"metadata":{},"sourceType":"module"}