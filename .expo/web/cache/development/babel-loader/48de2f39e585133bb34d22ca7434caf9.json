{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Users\\\\SAMSUNG\\\\ONEDRIVE\\\\MEUS_PROJETOS_TI\\\\app_tarefas\\\\src\\\\pages\\\\Tarefas\\\\index.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { ScrollView, TouchableOpacity, FlatList, TextInput } from 'react-native-gesture-handler';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Ionicons } from '@expo/vector-icons';\nimport ListItem from \"../../componentes/List/tarefas\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport Axios from 'axios';\nexport default function Home(_ref) {\n  var navigation = _ref.navigation;\n  var api = 'http://192.168.15.8/apitarefas/';\n\n  var _useState = useState('SELECIONE UMA DATA'),\n      _useState2 = _slicedToArray(_useState, 2),\n      strDate = _useState2[0],\n      setStrDate = _useState2[1];\n\n  var _useState3 = useState(new Date()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataBuscar = _useState6[0],\n      setDataBuscar = _useState6[1];\n\n  var _useState7 = useState('date'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      mode = _useState8[0],\n      setMode = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      show = _useState10[0],\n      setShow = _useState10[1];\n\n  var _useState11 = useState('1'),\n      _useState12 = _slicedToArray(_useState11, 2),\n      valor = _useState12[0],\n      setValor = _useState12[1];\n\n  var onChange = function onChange(event, selectedDate) {\n    var currentDate = selectedDate || date;\n    setShow(Platform.OS === 'ios');\n    var day = currentDate.getDate();\n    var month = currentDate.getMonth() + 1;\n    var year = currentDate.getFullYear();\n    var formatterDay;\n\n    if (day < 10) {\n      formatterDay = '0' + day;\n    } else {\n      formatterDay = day;\n    }\n\n    var formatterMonth;\n\n    if (month < 10) {\n      formatterMonth = '0' + month;\n    } else {\n      formatterMonth = month;\n    }\n\n    var dateFormattedBra = formatterDay + '/' + formatterMonth + '/' + year;\n    var dateFormatted = year + '-' + formatterMonth + '-' + formatterDay;\n    setDataBuscar(dateFormatted);\n    setStrDate(dateFormattedBra);\n    buscar(dateFormatted);\n  };\n\n  var showMode = function showMode(currentMode) {\n    setShow(true);\n    setMode(currentMode);\n  };\n\n  var showDatepicker = function showDatepicker() {\n    showMode('date');\n  };\n\n  var showTimepicker = function showTimepicker() {\n    showMode('time');\n  };\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      lista = _useState14[0],\n      setLista = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dados = _useState16[0],\n      setDados = _useState16[1];\n\n  var aler = 'aaa';\n\n  var getData = function getData() {\n    var value;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@storage_Key'));\n\n          case 3:\n            value = _context.sent;\n\n            if (value !== null) {\n              setDados(JSON.parse(value));\n            }\n\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  useEffect(function () {\n    getData();\n    listarDados();\n  }, []);\n\n  function listarDados() {\n    var res;\n    return _regeneratorRuntime.async(function listarDados$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(dados.cpf != undefined)) {\n              _context2.next = 6;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'listarTarefas.php?busca=' + dataBuscar + '&cpf=' + dados.cpf));\n\n          case 3:\n            res = _context2.sent;\n\n            if (res.data.result != '0') {\n              setLista(res.data.result);\n            } else {\n              alert('Não encontramos registros!');\n            }\n\n            setValor('2');\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  setTimeout(function () {\n    if (valor === '1') {\n      listarDados();\n    }\n  }, 50);\n\n  function buscar(busca) {\n    var res;\n    return _regeneratorRuntime.async(function buscar$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'listarTarefas.php?busca=' + busca + '&cpf=' + dados.cpf));\n\n          case 2:\n            res = _context3.sent;\n\n            if (res.data.result != '0') {\n              setLista(res.data.result);\n            } else {\n              alert('Não encontramos registros!');\n            }\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function mensagemDelete(id) {\n    Alert.alert(\"Excluir Registro\", \"Deseja Excluir este Registro?\", [{\n      text: \"Não\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Sim\",\n      onPress: function onPress() {\n        return deletar(id);\n      }\n    }], {\n      cancelable: true\n    });\n  }\n\n  function deletar(id) {\n    var res;\n    return _regeneratorRuntime.async(function deletar$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'excluirTarefas.php?id=' + id));\n\n          case 2:\n            res = _context4.sent;\n            listarDados();\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function concluir(id) {\n    var res;\n    return _regeneratorRuntime.async(function concluir$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(Axios.get(api + 'concluirTarefa.php?id=' + id));\n\n          case 2:\n            res = _context5.sent;\n            listarDados();\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Home');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 10\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../../assets/img/logo.png\"),\n    style: {\n      width: 30,\n      height: 30\n    },\n    resizeMode: \"contain\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 10\n    }\n  })), React.createElement(Text, {\n    style: {\n      color: '#FFF',\n      fontSize: 17\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, \"Lista de Tarefas\"), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('addTarefas');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    name: \"ios-add\",\n    size: 35,\n    color: \"#FFF\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.areaBusca,\n    onPress: showDatepicker,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 5\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"calendar\",\n    color: \"#000\",\n    size: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }, strDate), React.createElement(Icon, {\n    name: \"search\",\n    color: \"#000\",\n    size: 25,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  })), show && React.createElement(DateTimePicker, {\n    locale: \"pt-br\",\n    testID: \"dateTimePicker\",\n    value: date,\n    mode: mode,\n    is24Hour: true,\n    display: \"default\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: lista,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(ListItem, {\n        data: item,\n        deletar: function deletar() {\n          return mensagemDelete(item.id);\n        },\n        editar: function editar() {\n          return concluir(item.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }\n      });\n    },\n    ItemSeparatorComponent: function ItemSeparatorComponent() {\n      return React.createElement(Separator, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 41\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  header: {\n    backgroundColor: '#000',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 10,\n    marginTop: 35\n  },\n  areaBusca: {\n    backgroundColor: '#e1e1e1',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 10\n  }\n});\n\nvar Separator = function Separator() {\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      height: 1,\n      backgroundColor: '#DDD'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 29\n    }\n  });\n};","map":{"version":3,"sources":["D:/Users/SAMSUNG/ONEDRIVE/MEUS_PROJETOS_TI/app_tarefas/src/pages/Tarefas/index.js"],"names":["StatusBar","React","useState","useEffect","NavigationContainer","createStackNavigator","ScrollView","TouchableOpacity","FlatList","TextInput","AsyncStorage","Ionicons","ListItem","DateTimePicker","Icon","FontAwesome","Axios","Home","navigation","api","strDate","setStrDate","Date","date","setDate","dataBuscar","setDataBuscar","mode","setMode","show","setShow","valor","setValor","onChange","event","selectedDate","currentDate","Platform","OS","day","getDate","month","getMonth","year","getFullYear","formatterDay","formatterMonth","dateFormattedBra","dateFormatted","buscar","showMode","currentMode","showDatepicker","showTimepicker","lista","setLista","dados","setDados","aler","getData","getItem","value","JSON","parse","listarDados","cpf","undefined","get","res","data","result","alert","setTimeout","busca","mensagemDelete","id","Alert","text","onPress","console","log","style","deletar","cancelable","concluir","styles","header","navigate","require","width","height","color","fontSize","areaBusca","item","StyleSheet","create","backgroundColor","flexDirection","alignItems","justifyContent","padding","marginTop","Separator","flex"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, {useState, useEffect} from 'react';\r\nimport { Modal, StyleSheet, Button, Text, View, SafeAreaView, Image, Animated, Alert } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { ScrollView, TouchableOpacity, FlatList, TextInput } from 'react-native-gesture-handler';\r\nimport AsyncStorage from '@react-native-community/async-storage';\r\nimport {Ionicons} from '@expo/vector-icons';\r\nimport ListItem from '../../componentes/List/tarefas';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport Icon from 'react-native-vector-icons/MaterialIcons';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport Axios from 'axios';\r\n\r\n\r\nexport default function Home({navigation}) {\r\n\r\n   \r\n  const api = 'http://192.168.15.8/apitarefas/';\r\n\r\n  const [strDate, setStrDate] = useState('SELECIONE UMA DATA');\r\n    \r\n  const [date, setDate] = useState(new Date());\r\n  const [dataBuscar, setDataBuscar] = useState('');\r\n  const [mode, setMode] = useState('date');\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [valor, setValor] = useState('1');\r\n\r\n  const onChange = (event, selectedDate) => {\r\n    const currentDate = selectedDate || date;\r\n    setShow(Platform.OS === 'ios');\r\n    //setDate(currentDate);\r\n\r\n    //alert(currentDate.getMinutes());\r\n    \r\n    var day = currentDate.getDate();\r\n    var month = currentDate.getMonth() + 1;\r\n    var year = currentDate.getFullYear();\r\n\r\n\r\n\r\n    var formatterDay;\t\r\n    if (day < 10) {\r\n        formatterDay = '0'+ day;\r\n    } else {\r\n        formatterDay = day;\r\n    }\r\n\t\t\r\n    var formatterMonth;\t\r\n    if (month < 10) {\r\n        formatterMonth = '0'+ month;\r\n    } else {\r\n        formatterMonth = month;\r\n    }\r\n\r\n    //DATA NO MODELO BRASILEIRO\r\n    var dateFormattedBra =  formatterDay +'/'+ formatterMonth +'/'+ year;\r\n    \r\n    //DATA NO MODELO AMERICANO\r\n    var dateFormatted =  year +'-'+ formatterMonth +'-'+ formatterDay;\r\n    \r\n    setDataBuscar(dateFormatted);\r\n    setStrDate(dateFormattedBra);\r\n    buscar(dateFormatted);\r\n    //alert(dateFormatted);\r\n  };\r\n\r\n  const showMode = currentMode => {\r\n    setShow(true);\r\n    setMode(currentMode);\r\n  };\r\n\r\n  const showDatepicker = () => {\r\n    showMode('date');\r\n    \r\n  };\r\n\r\n  const showTimepicker = () => {\r\n    showMode('time');\r\n  };\r\n\r\n    const [lista, setLista] = useState([]);\r\n\r\n\r\n    const [dados, setDados] = useState([]);\r\n    const aler = 'aaa';\r\n   \r\n\r\n    const getData = async () => {\r\n       \r\n        try {\r\n          const value = await AsyncStorage.getItem('@storage_Key')\r\n          if(value !== null) {\r\n            setDados(JSON.parse(value));\r\n            \r\n          }\r\n        } catch(e) {\r\n          // error reading value\r\n        }\r\n      }\r\n\r\n\r\n      useEffect(()=> {\r\n          \r\n        getData();\r\n        listarDados();\r\n        \r\n      },[])\r\n\r\n      \r\n     \r\n\r\n      async function listarDados(){\r\n       \r\n        if(dados.cpf != undefined){\r\n            const res = await Axios.get(api + 'listarTarefas.php?busca=' + dataBuscar + '&cpf=' + dados.cpf);\r\n            if(res.data.result != '0'){\r\n                setLista(res.data.result);\r\n            }else{\r\n                alert('Não encontramos registros!')\r\n            }\r\n            setValor('2');\r\n        }\r\n        \r\n        \r\n       \r\n        //console.log(res.data.result);\r\n       \r\n      }\r\n      \r\n      setTimeout(function() {\r\n        \r\n        if(valor === '1'){\r\n         listarDados();\r\n        }\r\n      }, 50);\r\n\r\n      async function buscar(busca){\r\n        \r\n        const res = await Axios.get(api + 'listarTarefas.php?busca=' + busca + '&cpf=' + dados.cpf);\r\n        if(res.data.result != '0'){\r\n            setLista(res.data.result);\r\n        }else{\r\n            alert('Não encontramos registros!')\r\n        }\r\n        \r\n        \r\n        \r\n      }\r\n\r\n\r\n\r\n      function mensagemDelete(id){\r\n    \r\n        Alert.alert(\r\n          \"Excluir Registro\",\r\n          \"Deseja Excluir este Registro?\",\r\n          [\r\n            {\r\n              text: \"Não\",\r\n              onPress: () => console.log(\"Cancel Pressed\"),\r\n              style: \"cancel\"\r\n            },\r\n            { text: \"Sim\", onPress: () => deletar(id) }\r\n          ],\r\n          { cancelable: true }\r\n        );\r\n    \r\n        \r\n    \r\n      }\r\n    \r\n            \r\n\r\n     async function deletar(id){\r\n         \r\n        const res = await Axios.get(api + 'excluirTarefas.php?id=' + id);\r\n        listarDados();\r\n      }\r\n\r\n      async function concluir(id){\r\n         \r\n        const res = await Axios.get(api + 'concluirTarefa.php?id=' + id);\r\n        listarDados();\r\n      }\r\n\r\n   \r\n\r\n      return (\r\n        <SafeAreaView>\r\n        <View \r\n        style={styles.header}>\r\n         <TouchableOpacity\r\n        onPress={ () => navigation.navigate('Home')}\r\n        >\r\n         <Image \r\n         source={require('../../../assets/img/logo.png')}\r\n         style={{width:30, height:30}}\r\n         resizeMode = \"contain\"\r\n         />\r\n         </TouchableOpacity>\r\n        <Text style={{color:'#FFF', fontSize:17}}>Lista de Tarefas</Text>\r\n        <TouchableOpacity\r\n        onPress={ () => navigation.navigate('addTarefas')}\r\n        >\r\n            <Ionicons name=\"ios-add\" size={35} color=\"#FFF\"></Ionicons>\r\n     \r\n         </TouchableOpacity>\r\n        </View>\r\n    \r\n        \r\n\r\n    <View>\r\n    <TouchableOpacity\r\n    style={styles.areaBusca}\r\n    onPress={showDatepicker}\r\n    >  \r\n        \r\n        <FontAwesome name=\"calendar\" color=\"#000\" size={20} />\r\n        <Text>{strDate}</Text>\r\n        <Icon name=\"search\" color=\"#000\" size={25} />\r\n              \r\n      \r\n      </TouchableOpacity>\r\n      \r\n      \r\n      \r\n      {show && (\r\n        <DateTimePicker\r\n          locale=\"pt-br\"\r\n          \r\n          testID=\"dateTimePicker\"\r\n          value={date}\r\n          mode={mode}\r\n          is24Hour={true}\r\n          display=\"default\"\r\n          onChange={onChange}\r\n        />\r\n      )}\r\n    </View>\r\n\r\n\r\n        <View>\r\n        <FlatList\r\n            data={lista}\r\n            keyExtractor={item => item.id}\r\n            renderItem={({item}) => (\r\n            <ListItem\r\n                data={item}\r\n                deletar = {()=> mensagemDelete(item.id)}\r\n                editar = {()=> concluir(item.id)}\r\n            />\r\n            )}\r\n            ItemSeparatorComponent={()=><Separator/>}\r\n            \r\n        >\r\n\r\n        </FlatList>\r\n    </View>\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    \r\n        </SafeAreaView>\r\n\r\n\r\n\r\n      );\r\n    }\r\n    \r\n    const styles = StyleSheet.create({\r\n      header:{\r\n          backgroundColor:'#000',\r\n          flexDirection:'row',\r\n          alignItems:'center',\r\n          justifyContent:'space-between',\r\n          padding:10,\r\n          \r\n          marginTop:35\r\n      },\r\n\r\n      areaBusca:{\r\n        backgroundColor:'#e1e1e1',\r\n        flexDirection:'row',\r\n        alignItems:'center',\r\n        justifyContent:'space-between',\r\n        padding:10,\r\n       \r\n    },\r\n\r\n\r\n    \r\n     \r\n    });\r\n\r\n    const Separator = () => <View style={{flex:1, height:1, backgroundColor:'#DDD'}}></View>\r\n\r\n    "]},"metadata":{},"sourceType":"module"}